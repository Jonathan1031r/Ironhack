
<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  </head>
  <body><center>
	<div class="container">
		<h1>AJAX</h1>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			function fetchCharacters() {
				var httpRequest = new XMLHttpRequest();
				httpRequest.open("GET", "http://ironhack-characters.herokuapp.com/characters");
				httpRequest.onreadystatechange = handleResponse;
				httpRequest.send();
			}
			function handleResponse(event) {
				var httpResponse = event.currentTarget;
				if (httpResponse.readyState === 4) {
					if (httpResponse.status === 200) {
						console.log('--- without jQuery ---');
						showCharacters(JSON.parse(httpResponse.responseText));
					}
					else {
						alert("There was an error")
					}
				}
			}

			function showCharacters (charactersArray) {
				charactersArray.forEach(function (theCharacter){
					console.log(theCharacter);
				});
			}
		fetchCharacters();
		})

	</script>
  </center></body>
</html>
